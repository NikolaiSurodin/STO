<!DOCTYPE html>
<html>
<meta charset="utf-8" />
<head>

    <title>Неправильные глаголы </title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="header">
        <a href="index.html">Главная</a>
        <a href="pazzle.html">Загадки</a>
        <a href="#">Неправильные глаголы</a>
        <a href="englishWords.html">Перевод английских слов</a>
    </div>
    <h3> Неправильные глаголы</h3>
    <div class="box">
        <p id="question"></p>
        <input type="text" id="userAnswer">
        <button onclick="checkAnswer()">Ok</button>
        <p id="output"></p>
    </div>
    <div class="footer">
        <p>Copyright &copy; Nikolai Surodin</p>
    </div>
    <script type="text/javascript">
    var words = [

        ["be", "was, were", "been", "быть, являться"],
        ["beat", "beat", "beaten", "бить, колотить"],
        ["become", "became", "become", "становиться"],
        ["begin", "began", "begun", "начинать"],
        ["bend", "bent", "bent", "гнуть"],
        ["bet", "bet", "bet", "держать пари"],
        ["bite", "bit", "bitten", "кусать"],
        ["blow", "blew", "blown", "дуть, выдыхать"],
        ["break", "broke", "broken", "ломать, разбивать, разрушать"],
        ["bring", "brought", "brought", "приносить, привозить, доставлять"],
        ["build", "built", "built", "строить, сооружать"],
        ["buy", "bought", "bought", "покупать, приобретать"],
        ["catch", "caught", "caught", "ловить, поймать, схватить"],
        ["choose", "chose", "chosen", "выбирать, избирать"],
        ["come", "came", "come", "приходить, подходить"],
        ["cost", "cost", "cost", "стоить, обходиться"],
        ["cut", "cut", "cut", "резать, разрезать"],
        ["deal", "dealt", "dealt", "иметь дело, распределять"],
        ["dig", "dug", "dug", "копать, рыть"],
        ["do", "did", "done", "делать, выполнять"],
        ["draw", "drew", "drawn", "рисовать, чертить"],
        ["drink", "drank", "drunk", "пить"],
        ["drive", "drove", "driven", "ездить, подвозить"],
        ["eat", "ate", "eaten", "есть, поглощать, поедать"],
        ["fall", "fell", "fallen", "падать"],
        ["feed", "fed", "fed", "кормить"],
        ["feel", "felt", "felt", "чувствовать, ощущать"],
        ["fight", "fought", "fought", "драться, сражаться, воевать"],
        ["find", "found", "found", "находить, обнаруживать"],
        ["fly", "flew", "flown", "летать"],
        ["forget", "forgot", "forgotten", "забывать о (чём-либо)"],
        ["forgive", "forgave", "forgiven", "прощать"],
        ["freeze", "froze", "frozen", "замерзать, замирать"],
        ["get", "got", "got", "получать, добираться"],
        ["give", "gave", "given", "дать, подать, дарить"],
        ["go", "went", "gone", "идти, двигаться"],
        ["grow", "grew", "grown", "расти, вырастать"],
        ["hang", "hung", "hung", "вешать, развешивать, висеть"],
        ["have", "had", "had", "иметь, обладать"],
        ["hear", "heard", "heard", "слышать, услышать"],
        ["hide", "hid", "hidden", "прятать, скрывать"],
        ["hit", "hit", "hit", "ударять, поражать"],
        ["hold", "held", "held", "держать, удерживать, задерживать"],
        ["hurt", "hurt", "hurt", "ранить, причинять боль, ушибить"],
        ["keep", "kept", "kept", "хранить, сохранять, поддерживать"],
        ["know", "knew", "known", "знать, иметь представление"],
        ["lay", "laid", "laid", "класть, положить, покрывать"],
    ];
    class IrregularVerb { // объявляем класс неправильные глаголы 
        // f - формы глагола 
        constructor(f1, f2, f3, title) {
            this.title = title;
            this.form1 = f1;
            this.form2 = f2;
            this.form3 = f3;

        }
        makeTestString() {
            let test = this.form1 + "," + this.form2 + "," + this.form3;
            test = test.split(" ").join("");
            return test;
        }
        getForm1(prefix) {
            return prefix + this.form1;
        }
    }
    var wordObject = []; // v(verb) - глагол
    for (let v of words) {
        wordObject.push(new IrregularVerb(v[0], v[1], v[2], v[3]))

    }
    console.log(wordObject[0].getForm1("Первая форма глагола: "));

    var i = null;
    var test = null;


    function chooseWord() {
        if (wordObject.length) {
            i = parseInt(Math.random() * wordObject.length);
            console.log('i=', i)

            test = wordObject[i].makeTestString();
        } else {
            i = null;
            test = null;
        }

        if (i !== null) {
            document.getElementById('question').innerText = "Напишите 3 формы глагола в последовательности: Infinitive,Past Simple,Past Participle: " + wordObject[i].title;
        } else {
            document.getElementById('question').innerText = "";
            document.getElementById('output').innerText = "Тест завершен";
            document.getElementById('output').style.color = 'red';
        }



        document.getElementById('userAnswer').value = "";
        document.getElementById('userAnswer').focus();
    }
    chooseWord();

    function checkAnswer() {

        var userAnswer = document.getElementById('userAnswer').value;


        userAnswer = userAnswer.split(" ").join("");

        console.log(userAnswer, test);

        if (userAnswer == test) {
            document.getElementById('output').style.color = 'green';
            document.getElementById('output').innerText = "Верно";


            wordObject.splice(i, 1);




        } else {
            document.getElementById('output').innerText = "Нет. Вы ввели : " + userAnswer + '\n' + "Правильно будет : " + test;
            document.getElementById('output').style.color = 'red';

        }


        chooseWord();

    }
    </script>
</body>

</html>